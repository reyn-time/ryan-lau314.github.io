---
layout: post
title: "Problem 045: Triangular, Pentagonal, and Hexagonal"
date: 2021-03-03 20:16:18 +0100
tags: euler
---
{% include mathjax.html %}
## Problem
Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

|---------------|-------------------|-----------------------|
| Triangle      | $T_n=n(n+1)/2$    | 1, 3, 6, 10, 15, ...  |
| Pentagonal    | $P_n=n(3n−1)/2$   | 1, 5, 12, 22, 35, ... |
| Hexagonal     | $H_n=n(2n−1)$     | 1, 6, 15, 28, 45, ... |

It can be verified that $T_{285} = P_{165} = H_{143} = 40755$.

Find the next triangle number that is also pentagonal and hexagonal.

## Solution
I wrote generators for the three types of numbers:
{% highlight python %}
from itertools import count


def triangle():
    for i in count(1):
        yield i * (i + 1) // 2


def pentagon():
    for i in count(1):
        yield i * (3 * i - 1) // 2


def hexagon():
    for i in count(1):
        yield i * (2 * i - 1)
{% endhighlight %}

Next, I created a generator which finds common values between two infinite lists of ascending numbers.

{% highlight python %}
def merge(first_gen, second_gen):
    first = next(first_gen)
    second = next(second_gen)
    while True:
        if first < second:
            first = next(first_gen)
        elif first > second:
            second = next(second_gen)
        else:
            yield first
            first = next(first_gen)
            second = next(second_gen)
{% endhighlight %}

The logic is quite straightforward. At the beginning, keep a pointer in the front of each list. If the values referenced by the pointers do not match, the smaller value cannot exist in both lists. Move the pointer of the smaller value to the right, and repeat the process again. If the dereferenced value matches, output the matched value and move both pointers to the right.

Using this technique, we can find the third common value in the three lists of numbers quite easily:
{% highlight python %}
common_generator = merge(merge(triangle(), pentagon()), hexagon())
next(common_generator)
next(common_generator)
print(next(common_generator))
{% endhighlight %}

